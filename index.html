<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>iCat TheCatAPI</title>
    <style>
        body{
            margin:0;
            padding:20px;
            height:100dvh;
            width:100vw;
            display:flex;
            justify-content:center;
            align-items:center;
            background:radial-gradient(circle at center,#f8f9fb 0%,#eef1f5 100%);
            font-family:-apple-system,system-ui,sans-serif;
        }
        .device-chassis{
            width:100%;
            height:100%;
            max-width:500px;
            max-height:850px;
            background:#fff;
            border-radius:40px;
            padding:25px;
            box-shadow:0 10px 30px rgba(0,0,0,0.2);
            display:flex;
            flex-direction:column;
            align-items:center;
            justify-content:space-between;
        }
        .display-panel{
            width:100%;
            flex-grow:1;
            background-color:#2c2c2e;
            border-radius:32px;
            overflow:hidden;
            position:relative;
            margin-bottom:25px;
            display:flex;
            justify-content:center;
            align-items:center;
        }
        .cat-image{
            width:100%;
            height:100%;
            object-fit:cover;
            opacity:0;
            transition:opacity .5s ease-in-out,filter .5s,transform .5s;
            filter:blur(10px);
            transform:scale(1.05);
        }
        .cat-image.loaded{
            opacity:1;
            filter:blur(0);
            transform:scale(1);
        }
        .status-msg{
            position:absolute;
            font-size:16px;
            color:#ffeb3b;
            z-index:4;
            font-weight:500;
            text-shadow:0 0 5px rgba(0,0,0,0.7);
            text-align:center;
            padding:0 16px;
        }
        .cat-btn{
            width:85px;
            height:85px;
            border-radius:50%;
            border:none;
            background:#eee;
            box-shadow:0 5px 15px rgba(0,0,0,0.2);
            cursor:pointer;
            display:flex;
            justify-content:center;
            align-items:center;
            transition:all .15s ease;
        }
        .cat-btn svg{
            width:34px;
            height:34px;
            fill:#555;
        }
        .cat-btn:active{
            transform:scale(0.95);
        }
    </style>
</head>
<body>

<div class="device-chassis">
    <div class="display-panel">
        <div class="status-msg" id="status" style="display:none;"></div>
        <img id="catImg" class="cat-image" src="" alt="Cat">
    </div>

    <button class="cat-btn" onclick="nextCat()" aria-label="Next">
        <svg viewBox="0 0 24 24">
            <path d="M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M9,10C9.55,10 10,10.45 10,11C10,11.55 9.55,12 9,12C8.45,12 8,11.55 8,11C8,10.45 8.45,10 9,10M15,10C15.55,10 16,10.45 16,11C16,11.55 15.55,12 15,12C14.45,12 14,11.55 14,11C14,10.45 14.45,10 15,10M12,16.5C14.33,16.5 16.32,15.13 17.14,13.14L16.5,12.5C15.91,13.97 14.34,15 12.5,15C10.66,15 9.09,13.97 8.5,12.5L7.86,13.14C8.68,15.13 10.67,16.5 12,16.5Z" />
        </svg>
    </button>
</div>

<script>
const img = document.getElementById('catImg');
const status = document.getElementById('status');
let isLoading = false;

async function nextCat() {
    if (isLoading) return;
    isLoading = true;

    status.style.display = 'block';
    status.textContent = 'Загружаем кота...';
    img.classList.remove('loaded');
    img.removeAttribute('src');

    try {
        const res = await fetch('https://api.thecatapi.com/v1/images/search');
        const data = await res.json();
        const url = data[0].url;

        img.onload = () => {
            status.style.display = 'none';
            img.classList.add('loaded');
            isLoading = false;
        };

        img.onerror = () => {
            status.textContent = 'Ошибка загрузки кота.';
            isLoading = false;
        };

        img.src = url;
    } catch (e) {
        status.textContent = 'Не удалось получить кота.';
        isLoading = false;
    }
}

// первый кот при старте
nextCat();
</script>

</body>
</html>
